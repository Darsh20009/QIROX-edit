تمام يا يوسف—فكرتك دي بالظبط اللي بتحل “لخبطة المشاريع + الحسابات + الديبلوي + المتغيرات + الفواتير” وتحوّل QIROX لأداة تشغيل يومية بدل ما دماغك تفضل شايلة كل حاجة.

أنا راجعت ملف الموقع القديم QIROX-edit-20.zip سريعًا، وده أهم اللي لقيته (عشان نبني على الموجود بدل ما نعيد من الصفر):

1) ملخص مراجعة المشروع القديم (الملف اللي بعته)

الكويس اللي ينفع نكمّل عليه

فيه Design Guidelines جاهزة بألوان وهوية ممتازة:
Deep Black #0A0A0A + White #FFFFFF + Emerald #047857 (و Variants).

السيرفر عنده اتصال MongoDB عبر mongoose بالفعل (server/db.ts) وفيه Models جاهزة كتير.

فيه نظام Roles محترم في server/models/User.ts (أدوار QIROX + أدوار العميل).

المشاكل/اللخبطة اللي لازم تتصلّح

المشروع مخلوط: فيه Drizzle/Postgres ملفات (drizzle.config.ts, db-postgres.ts) وفي نفس الوقت Mongoose/Mongo شغال.
✅ القرار: نثبت على MongoDB فقط ونشيل/نعزل أي Postgres/Drizzle لو مش مستخدم.

render.yaml مفيهوش MONGODB_URI، فالموقع غالبًا بيشتغل “بدون DB” وبيقول In-memory storage.
✅ لازم نضيف Env Vars صح.

JWT_SECRET بيعمل fallback لقيمة افتراضية لو SESSION_SECRET مش موجود… ده خطر.
✅ لازم Secret إجباري في الإنتاج.

مفيش “Seed” واضح لأدمن افتراضي زي admin@qirox.online.
✅ نعمل Seed آمن أول تشغيل.

2) الهدف النهائي من QIROX (بصياغة منتج واضحة)
QIROX = “Project OS” لشركتك

كل مشروع صفحة/ملف واحد فيه:

رابط الديبلوي (Render/Vercel/…)

Repo GitHub

حسابات الدومين/البريد/الخدمات (بس مشفرة)

مراحل المشروع + Checklist بعلامة ✅

السعر + المدفوع + المتبقي

فواتير + PDF + سجل دفعات

متغيرات البيئة ENV (مشفرة)

قاعدة البيانات: URI + اسم DB + Users (مشفرة)

سجل تعديلات (Timeline)

“التعديل القادم” + مين مسؤول عنه

وبورتال للعميل

العميل يدخل يشوف:

مشروعه وصل لإيه بالضبط

إيه اللي باقي

الفواتير والمدفوعات

ملاحظات/طلبات التعديل
بدون ما يشوف أسرار داخلية (Keys/Passwords/ENV).

3) نظام الدخول اللي طلبته (مع تحسين أمان بدون ما نعقّد عليك)

أنت قلت:

أدمن: admin@qirox.online والباس 123456
أنا هنفّذ الفكرة بس صح:

(A) Seed Admin أول تشغيل

أول تشغيل للسيرفر: لو مفيش System Admin في DB → ينشئ:

email = admin@qirox.online

password = 123456 (يتعمل لها hash)

إجباري: أول مرة يسجّل دخول يغيّر الباسورد.

(B) إنشاء الموظفين “عن طريق الأدمن فقط”

الأدمن يضيف موظف:

email + الاسم + اللقب الوظيفي + رقم الموظف + رقم الهاتف + Role + حالة الحساب (Active/Inactive)

(C) أول دخول للموظف (السيناريو اللي طلبته)

الموظف يكتب Email → يظهر له:

أدخل رقم الهاتف + الاسم (للتحقق)
لو صح → يحدد Password جديد

بدل ما نطلب “اسم + هاتف” ممكن نخليها: OTP على البريد أو SMS لاحقًا، بس كبداية نلتزم باللي طلبته.

(D) نسيت كلمة المرور

“Request Reset” → لينك Reset على البريد (أبسط وأأمن من أي أسئلة)